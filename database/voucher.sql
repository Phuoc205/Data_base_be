CREATE TABLE VOUCHER
(
    VOUCHER_ID VARCHAR(15) PRIMARY KEY,
    MONEY_OFF VARCHAR(15),
    PERCENTAGE_OFF DECIMAL(4, 2),
    EXPIRY DATE,
    CONSTRAINT CHK_VALUE_RANGE CHECK (PERCENTAGE_OFF > 0 AND PERCENTAGE_OFF < 1),
    CONSTRAINT CHK_DISCOUNT_TYPE CHECK 
    (
        (MONEY_OFF IS NULL AND PERCENTAGE_OFF IS NOT NULL) OR 
        (MONEY_OFF IS NOT NULL AND PERCENTAGE_OFF IS NULL)
    )
);

INSERT INTO VOUCHER (VOUCHER_ID, MONEY_OFF, PERCENTAGE_OFF, EXPIRY)
VALUES
('V001', NULL, 0.10, '2025-12-31'),
('V002', '500000 VND', NULL, '2025-07-31'),
('V003', NULL, 0.15, '2025-06-30'), -- 15% off
('V004', '1000000 VND', NULL, '2025-04-01'),
('V005', NULL, 0.20, '2025-08-31');